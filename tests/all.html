<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Run all tests</title>
  <link rel="stylesheet" href="/vendor/qunit/qunit-1.10.0.css">
  <link rel="stylesheet" href="/vendor/jqwidgets/styles/jqx.base.css" type="text/css" />

  <style type="text/css">
    #visible-fixture {
      margin: 10px;
      padding: 5px;
      border: 1px solid #F0F0F0;
      border-radius: 15px;
      min-height: 120px;
    }
  </style>
  
</head>
<body>
  <div id="qunit">
    
  </div>
  
  <div id="qunit-fixture">test markup, will be hidden</div>
  <div id="visible-fixture">visible test markup</div>
  
  <script src="/vendor/require.js"></script>
  <script type="text/javascript">
    /* actually its not so difficult:
     *
     * first approach was:
     * run the lib/main script with data-main in the script tag above and to the testRunner requiring here
     *
     * <script data-main="/lib/main" src="/vendor/require.js"
     * <script>require(['testRunner'], function (testRunner) { restRunner.run(...) }
     *
     * that does fail randomly, because:
     * second inline-script-tag could be run before the requirejs script-tag is evaluatied, so that in the
     * first require() the path for testRunner and other libs is wrong
     *
     * now the main is loaded first, then in the second step the runner and all its deps are loaded in the last step the test is run
     * (thats three nested requires)
     */
    require(["/lib/main.js"], function () {
      require(["../tests/testRunner","../tests/all"], function (runner, tests) {
        runner.run(tests);
      });
    });
  </script>
</body>
</html>